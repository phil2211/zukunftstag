<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Mathe Game</title>
    <meta name="description" content="Roughly 155 characters">
  </head>
  <body>
    <script>
        console.log("ich bin geladen");
        function check(event) {
            console.log(event.target.zeile);
            var zeile = event.target.zeile
            var a = parseInt(document.getElementsByName("rechnung1")[zeile].innerText);
            var b = parseInt(document.getElementsByName("rechnung2")[zeile].innerText);

            if(a+b == document.getElementsByName("resultat")[zeile].value) {
                document.getElementsByName("hoch")[zeile].style.visibility = "visible"
                document.getElementsByName("runter")[zeile].style.visibility = "hidden"
                machRechnung()
            } else {
                document.getElementsByName("runter")[zeile].style.visibility = "visible"
                document.getElementsByName("hoch")[zeile].style.visibility = "hidden"
            }
        }

        function machRechnung() {
            var versteckt = document.createElement("input");
            versteckt.setAttribute("type", "hidden");
            versteckt.value = document.getElementsByName("aufgabe").length;

            var aufgabe = document.createElement("p");
            aufgabe.setAttribute("name", "aufgabe");
            
            var rechnung1 = document.createElement("span");
            rechnung1.setAttribute("name", "rechnung1");
            rechnung1.innerText = Math.floor(Math.random() * 100);
            
            var operator = document.createElement("span");
            operator.innerText = " + ";
            
            var rechnung2 = document.createElement("span");
            rechnung2.setAttribute("name", "rechnung2");
            rechnung2.innerText = Math.floor(Math.random() * 100);

            var gleich = document.createElement("span");
            gleich.innerText = " = ";

            var resultat = document.createElement("input");
            resultat.setAttribute("name", "resultat");
            resultat.setAttribute("type", "number");
            resultat.setAttribute("min", 0);
            resultat.setAttribute("max", 10000);

            var button = document.createElement("button");
            button.addEventListener("click", check);
            button.zeile = document.getElementsByName("aufgabe").length
            button.setAttribute("type", "butten");
            button.innerText="PRÃœFEN";

            var hoch = document.createElement("img");
            hoch.setAttribute("name", "hoch");
            hoch.style.visibility = "collapse";
            hoch.setAttribute("src", "images/hoch.png");
            hoch.setAttribute("width", "50px");

            var runter = document.createElement("img");
            runter.setAttribute("name", "runter");
            runter.style.visibility = "collapse";
            runter.setAttribute("src", "images/runter.png");
            runter.setAttribute("width", "50px");


            aufgabe.appendChild(rechnung1);
            aufgabe.appendChild(operator);
            aufgabe.appendChild(rechnung2);
            aufgabe.appendChild(gleich);
            aufgabe.appendChild(resultat);
            aufgabe.appendChild(button);
            aufgabe.appendChild(hoch);
            aufgabe.appendChild(runter);
            aufgabe.appendChild(versteckt);

            document.getElementById("aufgaben").appendChild(aufgabe);
        }
    </script>
    <h1>RECHNE</h1>
    <div id="aufgaben" />
    <script>
         machRechnung()
    </script>
  </body>
</html>